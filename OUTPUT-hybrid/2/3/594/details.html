<html><h3>1333e33c691f96081d52bd7a0420a1fcfcc4ec91,returnn/tf/layers/signal_processing.py,SplitConcatMultiChannel,__init__,#SplitConcatMultiChannel#Any#,676
</h3><img src='820268.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    output = tf.reshape(input_placeholder, [tf.shape(input_placeholder)[0], tf.shape(input_placeholder)[1], nr_of_channels, tf.shape(input_placeholder)[2] / nr_of_channels])
    self.output.placeholder = tf.transpose(tf.reshape(tf.transpose(output, [1, 3, 0, 2]), (tf.shape(output)[1], tf.shape(output)[3], tf.shape(output)[0] * tf.shape(output)[2])), [2, 0, 1])
    &#47&#47 work around to obtain result like numpy.repeat(size_placeholder, nr_of_channels)
    self.output.size_placeholder = {self.output.time_dim_axis_excluding_batch: tf.reshape(<a id="change">tf.tile(tf.reshape(self.input_data.size_placeholder[self.input_data.time_dim_axis_excluding_batch], [-1, 1]), [1, nr_of_channels])</a>, [-1])}

  @classmethod
  def get_out_data_from_opts(cls, name, sources, nr_of_channels, n_out=None, **kwargs):</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 work around to obtain result like numpy.repeat(size_placeholder, nr_of_channels)
    size_placeholder_np_repeat = tf.reshape(
      self.input_data.size_placeholder[self.input_data.time_dim_axis_excluding_batch], [-1, 1])  &#47&#47 shape T x 1
    <a id="change">size_placeholder_np_repeat = tf.tile(size_placeholder_np_repeat, [1, nr_of_channels])</a>  &#47&#47 shape T x C
    size_placeholder_np_repeat = tf.reshape(size_placeholder_np_repeat, [-1])  &#47&#47 shape (T * C)
    self.output.size_placeholder = {self.output.time_dim_axis_excluding_batch: size_placeholder_np_repeat}
</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rwth-i6/returnn/commit/1333e33c691f96081d52bd7a0420a1fcfcc4ec91#diff-ca0ad169befa46ecb06c70fc09e64c2ba18fd2077c2940046a137ae9d9e8f598L685' target='_blank'>Link</a></div><div id='project'> Project Name: rwth-i6/returnn</div><div id='commit'> Commit Name: 1333e33c691f96081d52bd7a0420a1fcfcc4ec91</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: returnn/tf/layers/signal_processing.py</div><div id='class'> Class Name: SplitConcatMultiChannel</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/GPflow/GPflow/commit/6b8a9a5f0e738d98904ff7c46c79a44bfdd56686#diff-a796884a09cb5cf149b8dbf2193bdac6703a5bcd8ef00abda9c76f610ccede16L52' target='_blank'>Link</a></div><div id='project'> Project Name: GPflow/GPflow</div><div id='commit'> Commit Name: 6b8a9a5f0e738d98904ff7c46c79a44bfdd56686</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: GPflow/gpr.py</div><div id='class'> Class Name: GPR</div><div id='method'> Method Name: build_predict</div><BR><BR><div id='link'><a href='https://github.com/GPflow/GPflow/commit/6b8a9a5f0e738d98904ff7c46c79a44bfdd56686#diff-995781e239f382c33ec5f92aa5b2fb5798a8bb5824bc2d53a24f044a94fed379L76' target='_blank'>Link</a></div><div id='project'> Project Name: GPflow/GPflow</div><div id='commit'> Commit Name: 6b8a9a5f0e738d98904ff7c46c79a44bfdd56686</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: GPflow/sgpr.py</div><div id='class'> Class Name: SGPR</div><div id='method'> Method Name: build_predict</div><BR>