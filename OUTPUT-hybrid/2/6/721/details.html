<html><h3>435560056e838c96100a0e80aee9dbbe57ea4c4f,iris/trainer/util.py,,_recursive_copy,#Any#Any#,34
</h3><img src='935360.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def _recursive_copy(src_dir, dest_dir):
  subprocess.check_call(<a id="change">[&quotgsutil&quot, &quot-q&quot, &quot-m&quot, &quotrsync&quot, src_dir, dest_dir]</a>)


class ExportLastModelMonitor(tf.contrib.learn.monitors.ExportMonitor):</code></pre><h3>After Change</h3><pre><code class='java'>

  When called, dest_dir should exist.
  
  <a id="change">for dir_name, sub_dirs, leaf_files in file_io.walk(src_dir):
    &#47&#47 copy all the files over
    for leaf_file in leaf_files:
      leaf_file_path = os.path.join(dir_name, leaf_file)
      _copy_all([leaf_file_path], dest_dir)

    &#47&#47 Now make all the folders.
    for sub_dir in sub_dirs:
      file_io.create_dir(os.path.join(dest_dir, sub_dir))


</a>class ExportLastModelMonitor(tf.contrib.learn.monitors.ExportMonitor):
  Export the last model to its final location on GCS.

  The tf.learn ExportMonitor exports the models to a location based on the last</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/cloudml-samples/commit/435560056e838c96100a0e80aee9dbbe57ea4c4f#diff-59e73292d568053cc49f3cf0d0e71fa0c04ffc0228ff434a14d3a176130b7e1fL35' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/cloudml-samples</div><div id='commit'> Commit Name: 435560056e838c96100a0e80aee9dbbe57ea4c4f</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: iris/trainer/util.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _recursive_copy</div><BR><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/cloudml-samples/commit/435560056e838c96100a0e80aee9dbbe57ea4c4f#diff-59e73292d568053cc49f3cf0d0e71fa0c04ffc0228ff434a14d3a176130b7e1fL31' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/cloudml-samples</div><div id='commit'> Commit Name: 435560056e838c96100a0e80aee9dbbe57ea4c4f</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: iris/trainer/util.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _copy_all</div><BR><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/ml-on-gcp/commit/fd33fac90233242b5613f0f5b3764bcceb6991a1#diff-3d9354ab2a0abf2eae212cf48937b952aaca72910d3b213b4d5a98778d57c99eL21' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/ml-on-gcp</div><div id='commit'> Commit Name: fd33fac90233242b5613f0f5b3764bcceb6991a1</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: example_zoo/noxfile.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>