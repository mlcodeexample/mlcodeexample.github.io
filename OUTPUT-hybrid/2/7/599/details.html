<html><h3>1a292afa66250814e3fa3fab26e4f7e5140baf31,contents/12_Proximal_Policy_Optimization/simply_PPO.py,PPO,update,#PPO#Any#Any#Any#Any#Any#,80
</h3><img src='826893.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 adaptive lambda
        if kl &lt; self.kl_target / 1.5:
            self.lam /= 2
        elif <a id="change">kl &gt; self.kl</a>_target * 1.5:
            <a id="change">self.lam *= 2</a>
        <a id="change">self.lam</a> = np.clip(self.lam, 1e-4, 10)

    def _build_anet(self, name, trainable):
        with tf.variable_scope(name):</code></pre><h3>After Change</h3><pre><code class='java'>
                if kl &gt; 4*METHOD[&quotkl_target&quot]:
                    break
            if kl &lt; METHOD[&quotkl_target&quot] / 1.5:  &#47&#47 adaptive lambda
                <a id="change">METHOD[&quotlam&quot]</a> /= 2
            elif kl &gt; METHOD[&quotkl_target&quot] * 1.5:
                METHOD[&quotlam&quot] *= 2
            METHOD[&quotlam&quot] = np.clip(self.lam, 1e-4, 10)</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/MorvanZhou/Reinforcement-learning-with-tensorflow/commit/1a292afa66250814e3fa3fab26e4f7e5140baf31#diff-b95bec85d7f391cc72b54deb2fdaefe11a67fdc9337ad847a713aa804ab6d4eaL80' target='_blank'>Link</a></div><div id='project'> Project Name: MorvanZhou/Reinforcement-learning-with-tensorflow</div><div id='commit'> Commit Name: 1a292afa66250814e3fa3fab26e4f7e5140baf31</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: contents/12_Proximal_Policy_Optimization/simply_PPO.py</div><div id='class'> Class Name: PPO</div><div id='method'> Method Name: update</div><BR><BR><div id='link'><a href='https://github.com/marcoancona/DeepExplain/commit/2491af9de0dd8d20c4bb8236d9c51cdb33f14060#diff-0f45d382b88d399e647bf7b61f7f5392aade5e4df5f800923fd2bee98ada2bc1L172' target='_blank'>Link</a></div><div id='project'> Project Name: marcoancona/DeepExplain</div><div id='commit'> Commit Name: 2491af9de0dd8d20c4bb8236d9c51cdb33f14060</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: deepexplain/tensorflow/methods.py</div><div id='class'> Class Name: IntegratedGradients</div><div id='method'> Method Name: run</div><BR><BR><div id='link'><a href='https://github.com/tensorlayer/tensorlayer/commit/35b2c4917344f338eda67c78673cf4064b3b4265#diff-1d0340ad31e3cb69502a14426c672687eb15d10a85d20b5e050706a8e4f24b0fL102' target='_blank'>Link</a></div><div id='project'> Project Name: tensorlayer/tensorlayer</div><div id='commit'> Commit Name: 35b2c4917344f338eda67c78673cf4064b3b4265</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: examples/reinforcement_learning/tutorial_DQN.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>