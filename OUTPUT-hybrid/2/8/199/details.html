<html><h3>9593d1e63672fb3e522b7629d32819bc8863eb83,a02_TextCNN/p7_TextCNN_train.py,,,#,5
</h3><img src='334948.png'><BR><BR><BR><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
tf.app.flags.DEFINE_integer("sentence_len",100,"max sentence length")
tf.app.flags.DEFINE_integer("embed_size",100,"embedding size")
tf.app.flags.DEFINE_boolean("is_training",True,"is traning.true:tranining,false:testing/inference")
<a id="change">tf.app.flags.DEFINE_integer("num_epochs",17,"number of epochs to run.")</a>
tf.app.flags.DEFINE_integer("validate_every", 1, "Validate every validate_every epochs.") &#47&#47每10轮做一次验证
tf.app.flags.DEFINE_boolean("use_embedding",True,"whether to use embedding or not.")
&#47&#47tf.app.flags.DEFINE_string("cache_path","text_cnn_checkpoint/data_cache.pik","checkpoint location for the model")
&#47&#47train-zhihu4-only-title-all.txt</code></pre><h3>After Change</h3><pre><code class='java'>

tf.app.flags.DEFINE_float("learning_rate",0.0001,"learning rate")
tf.app.flags.DEFINE_integer("batch_size", 16, "Batch size for training/evaluating.") &#47&#47批处理的大小 32--&gt;128
<a id="change">tf.app.flags.DEFINE_integer("decay_steps", 1000, "how many steps before decay learning rate.")</a> &#47&#476000批处理的大小 32--&gt;128
tf.app.flags.DEFINE_float("decay_rate", 0.65, "Rate of decay for learning rate.") &#47&#470.65一次衰减多少
tf.app.flags.DEFINE_string("ckpt_dir","text_cnn_title_desc_checkpoint/","checkpoint location for the model")
tf.app.flags.DEFINE_integer("sentence_len",100,"max sentence length")</code></pre><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/brightmart/text_classification/commit/9593d1e63672fb3e522b7629d32819bc8863eb83#diff-b5447d6550ed3f7cd2e721854bd23a9f3f37f97e328d7a835a6dce87c8b7820aL5' target='_blank'>Link</a></div><div id='project'> Project Name: brightmart/text_classification</div><div id='commit'> Commit Name: 9593d1e63672fb3e522b7629d32819bc8863eb83</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: a02_TextCNN/p7_TextCNN_train.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/wenwei202/iss-rnns/commit/0acf9904b9f87ad3890d87bbaa2a294a1ab7d4ac#diff-b843cc6d73edd707b3a70fcfcf864234e268d09c640d1a15154799280311fa0fL7' target='_blank'>Link</a></div><div id='project'> Project Name: wenwei202/iss-rnns</div><div id='commit'> Commit Name: 0acf9904b9f87ad3890d87bbaa2a294a1ab7d4ac</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: basic/cli.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/naturomics/CapsLayer/commit/6ba8779d5184a617e7ab8ade1b01f470a2af18a4#diff-f875604624c2a842d34a7904a9e8335b4a019c29db64d2b2acf7721e2d1d15c6L4' target='_blank'>Link</a></div><div id='project'> Project Name: naturomics/CapsLayer</div><div id='commit'> Commit Name: 6ba8779d5184a617e7ab8ade1b01f470a2af18a4</div><div id='time'> Time: </div><div id='author'> Author: null</div><div id='file'> File Name: models/config.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>